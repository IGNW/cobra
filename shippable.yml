language: python
python:
  - "2.7"
cache: true

before_install:
   - mkdir -p shippable/testresults
   - mkdir -p shippable/codecoverage

install: 
  - "pip install requests"
  - "pip install pyOpenSSL"
  - "pip install responses"
  - "python setup.py -q install"
  - "pip install sphinxcontrib-napoleon"

script:
  - py.test -vv --junitxml=shippable/testresults/test.xml
  - which python && coverage run --branch -m py.test
  - which python && coverage xml -o shippable/codecoverage/coverage.xml
